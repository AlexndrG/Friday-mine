(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{12:function(e,t,r){e.exports={main:"Login_main__2pv3y",form:"Login_form__J68WB",item:"Login_item__3yq4G",error:"Login_error__3lSpZ"}},13:function(e,t,r){e.exports={main:"Profile_main__1iK2v",form:"Profile_form__2Irhk",photo:"Profile_photo__1Mrgm",item:"Profile_item__2s20o",error:"Profile_error__aQEnL"}},15:function(e,t,r){e.exports={main:"PwdRestore_main__2WL3I",form:"PwdRestore_form__2Zrwb",item:"PwdRestore_item__16XhF",error:"PwdRestore_error__IJ61m"}},16:function(e,t,r){e.exports={main:"Register_main__iR9HC",form:"Register_form__2bOF2",item:"Register_item__1te8c",error:"Register_error__3uYTC"}},24:function(e,t,r){e.exports={error:"Error404_error__2seUt",text:"Error404_text__3vJJY",image:"Error404_image__2JRYZ"}},25:function(e,t,r){e.exports={pen:"SuperEditableSpan_pen__37tAy",spanParameter:"SuperEditableSpan_spanParameter__3KV6Z",editableSpan:"SuperEditableSpan_editableSpan__2mEG8"}},26:function(e,t,r){e.exports={superInput:"SuperInputText_superInput__2AxW5",errorInput:"SuperInputText_errorInput__20jP4",error:"SuperInputText_error__rhMt7"}},30:function(e,t,r){e.exports={default:"SuperButton_default__1A3oo",red:"SuperButton_red__3CQpR"}},40:function(e,t,r){e.exports={loader:"Loader_loader__2rfiT"}},43:function(e,t,r){e.exports={item:"SuperNavLink_item__sVmEG"}},49:function(e,t,r){},50:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),a=r(22),c=r.n(a),i=(r(49),r(14)),o=(r(50),r(5)),j=r(24),u=r.n(j),l=r(0);function d(){return Object(l.jsxs)("div",{className:u.a.error,children:[Object(l.jsxs)("div",{className:u.a.text,children:["404",Object(l.jsx)("br",{}),"Sorry..."]}),Object(l.jsx)("img",{className:u.a.image,src:"https://images-na.ssl-images-amazon.com/images/I/51yEw1u0HqL._AC_SY1000_.jpg",alt:"turd"})]})}var b=r(6),O=r.p+"static/media/avatar.f463a804.jpg",m=r(3),f=r(13),x=r.n(f),p=r(4),h=r(17),g=r(30),v=r.n(g),_=["red","className"],y=function(e){var t=e.red,r=e.className,n=Object(h.a)(e,_),s="".concat(t?v.a.red:v.a.default," ").concat(r);return Object(l.jsx)("button",Object(p.a)({className:s},n))},E=r(40),N=r.n(E),P=r.p+"static/media/loader.b6485230.gif";function R(){return Object(l.jsx)("img",{className:N.a.loader,src:P})}var S=r(25),C=r.n(S),T=r(26),w=r.n(T),I=["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"],B=function(e){var t=e.onChange,r=e.onChangeText,n=e.onKeyPress,s=e.onEnter,a=e.error,c=e.className,i=e.spanClassName,o=Object(h.a)(e,I),j="".concat(w.a.error," ").concat(i||""),u="".concat(a?w.a.errorInput:w.a.superInput," ").concat(c);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",Object(p.a)({type:"text",onChange:function(e){t&&t(e),r&&r(e.currentTarget.value)},onKeyPress:function(e){n&&n(e),s&&"Enter"===e.key&&s()},className:u},o)),a&&Object(l.jsx)("span",{className:j,children:a})]})},k=["autoFocus","onBlur","onEnter","spanProps"],A=["children","onDoubleClick","className"],L=function(e){e.autoFocus;var t=e.onBlur,r=e.onEnter,s=e.spanProps,a=Object(h.a)(e,k),c=Object(n.useState)(!1),i=Object(b.a)(c,2),o=i[0],j=i[1],u=s||{},d=u.children,O=u.onDoubleClick,m=u.className,f=Object(h.a)(u,A),x="".concat(C.a.editableSpan,"\n         ").concat(a.spanClassName?C.a[a.spanClassName]:"","\n         ").concat(m||"");return Object(l.jsx)(l.Fragment,{children:o?Object(l.jsx)(B,Object(p.a)({autoFocus:!0,onBlur:function(e){j(!1),t&&t(e)},onEnter:function(){j(!1),r&&r()}},a)):Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{className:C.a.pen,src:"https://iconarchive.com/download/i96727/iconsmind/outline/Pen.ico",alt:"pen"}),Object(l.jsx)("span",Object(p.a)(Object(p.a)({onDoubleClick:function(e){j(!0),O&&O(e)},className:x},f),{},{children:d||a.value}))]})})};function D(e){return Object(l.jsxs)("div",{className:x.a.main,children:[Object(l.jsx)("h1",{children:"Profile"}),Object(l.jsxs)("div",{className:x.a.form,children:[Object(l.jsx)("div",{className:x.a.item,children:Object(l.jsx)("img",{className:x.a.photo,src:e.ifImgError||e.avatar||O,onError:e.setIfImgErrorHandler})}),Object(l.jsxs)("div",{className:x.a.item,children:[Object(l.jsx)("b",{children:"Email:"})," ".concat(e.email)]}),Object(l.jsxs)("div",{className:x.a.item,children:[Object(l.jsx)("b",{children:"Name:"}),Object(l.jsx)("div",{children:Object(l.jsx)(L,{value:e.newName,onChangeText:e.nameChangeText,disabled:e.isBusy,size:50})})]}),Object(l.jsxs)("div",{className:x.a.item,children:[Object(l.jsx)("b",{children:"Avatar link:"}),Object(l.jsx)("div",{children:Object(l.jsx)(L,{value:e.newAvatar,onChangeText:e.avatarChangeText,disabled:e.isBusy,size:75})})]}),Object(l.jsxs)("div",{className:x.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.changePress,disabled:!e.profileChanged||e.isBusy,children:"Change profile"})]}),Object(l.jsxs)("div",{className:x.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.logoutPress,disabled:e.isBusy,children:"Logout"})]})]}),e.isBusy&&Object(l.jsx)("div",{children:Object(l.jsx)(R,{})}),e.error&&Object(l.jsx)("div",{className:x.a.error,children:e.error})]})}var F=r(41),G=r.n(F).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),z=function(){return G.post("auth/me",{})},M=function(e,t,r){return G.post("auth/login",{email:e,password:t,rememberMe:r})},J=function(){return G.delete("auth/me")},U=function(e,t){return G.post("auth/register",{email:e,password:t})},Y=function(e,t){return G.put("auth/me",{name:e,avatar:t})},Z=function(e){return G.post("auth/forgot",{email:e,from:K,message:W})},K="test-front-admin <ai73a@yandex.by>",W="<div>Password recovery link: <a href='https://alexndrg.github.io/Friday-mine/#/pwd-new/$token$'>Password recovery link</a></div>",q={isInitialized:!1,isBusy:!1,error:"",isLogined:!1,userData:{}};var H=function(e){return{type:"APP/SET-BUSY",value:e}},Q=function(e){return{type:"APP/SET-ERROR",errorText:e}},V=function(e){return{type:"APP/SET-USER-DATA",userData:e}},$={};function X(){var e=Object(m.c)((function(e){return e.app.isLogined})),t=Object(m.c)((function(e){return e.app.isBusy})),r=Object(m.c)((function(e){return e.app.error})),s=Object(m.c)((function(e){return e.app.userData})),a=s.email,c=s.name,i=s.avatar,j=Object(m.b)(),u=Object(n.useState)(c),d=Object(b.a)(u,2),f=d[0],x=d[1],p=Object(n.useState)(i||"none"),h=Object(b.a)(p,2),g=h[0],v=h[1],_=Object(n.useState)(""),y=Object(b.a)(_,2),E=y[0],N=y[1],P=Object(n.useState)(!1),R=Object(b.a)(P,2),S=R[0],C=R[1];Object(n.useEffect)((function(){return function(){j(Q(""))}}),[]),Object(n.useEffect)((function(){N((function(e){return""}))}),[i]);return e?Object(l.jsx)(D,{isBusy:t,error:r,email:a,newName:f,avatar:i||"none",newAvatar:g,nameChangeText:function(e){C(!0),x(e)},avatarChangeText:function(e){C(!0),v(e)},changePress:function(){j(function(e,t){return function(r){r(Q("")),r(H(!0)),Y(e,t).then((function(e){r(V(e.data.updatedUser))})).catch((function(e){r(Q(e.response?e.response.data.error:e.message))})).finally((function(){r(H(!1))}))}}(f,g)),C(!1)},logoutPress:function(){j((function(e){e(Q("")),e(H(!0)),J().then((function(t){e({type:"APP/SET-LOGIN",value:!1})})).catch((function(t){e(Q(t.response?t.response.data.error:t.message))})).finally((function(){e(H(!1))}))}))},ifImgError:E,setIfImgErrorHandler:function(){N(O)},profileChanged:S}):Object(l.jsx)(o.a,{to:"/login"})}var ee=r(15),te=r.n(ee);function re(e){return Object(l.jsxs)("div",{className:te.a.main,children:[Object(l.jsx)("h1",{children:"Restore Password"}),Object(l.jsxs)("div",{className:te.a.form,children:[Object(l.jsxs)("div",{className:te.a.item,children:["E-mail",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.email,onChange:e.emailChange,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:te.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.restorePress,disabled:e.isBusy,children:"Restore"})]})]}),e.isBusy&&Object(l.jsx)("div",{children:Object(l.jsx)(R,{})}),e.error&&Object(l.jsx)("div",{className:te.a.error,children:e.error})]})}var ne={isRestoring:!1};var se=function(e){return{type:"PWD-RESTORE/SET-RESTORING",value:e}};function ae(){var e=Object(m.c)((function(e){return e.app.isBusy})),t=Object(m.c)((function(e){return e.app.error})),r=Object(m.c)((function(e){return e.passwordRestore.isRestoring})),s=Object(m.b)();Object(n.useEffect)((function(){return function(){s(Q("")),s(se(!1))}}),[]);var a=Object(n.useState)("dfkcnsldkfj@yandex.ru"),c=Object(b.a)(a,2),i=c[0],o=c[1];return r?Object(l.jsxs)("div",{className:te.a.form,children:["Check your e-mail ",Object(l.jsx)("b",{children:i})," for Restore Password link!"]}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(re,{email:i,isBusy:e,error:t,emailChange:function(e){t&&s(Q("")),o(e.currentTarget.value)},restorePress:function(){s(""!==i?function(e){return function(t){t(Q("")),t(H(!0)),Z(e).then((function(e){t(se(!0))})).catch((function(e){t(Q(e.response?e.response.data.error:e.message))})).finally((function(){t(H(!1))}))}}(i):Q("Fill email field!"))}})})}var ce=r(12),ie=r.n(ce);function oe(e){return Object(l.jsxs)("div",{className:ie.a.main,children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsxs)("div",{className:ie.a.form,children:[Object(l.jsxs)("div",{className:ie.a.item,children:["E-mail",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.email,onChange:e.emailChange,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:ie.a.item,children:["Password",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.password,onChange:e.passwordChange,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:ie.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(B,{type:"checkbox",checked:e.rememberMe,onClick:e.rememberMeChange,disabled:e.isBusy}),"Remember me"]}),Object(l.jsxs)("div",{className:ie.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.loginPress,disabled:e.isBusy,children:"Login"})]})]}),Object(l.jsxs)("div",{className:ie.a.form,children:[Object(l.jsxs)("div",{className:ie.a.item,children:["E-mail",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:"nya-admin@nya.nya"})]}),Object(l.jsxs)("div",{className:ie.a.item,children:["Password",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:"1qazxcvBG"})]}),Object(l.jsxs)("div",{className:ie.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(B,{type:"checkbox",checked:!1}),"Remember me"]}),Object(l.jsxs)("div",{className:ie.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.loginAsIgnatPress,disabled:e.isBusy,red:!0,children:"Login as Ignat"})]})]}),e.isBusy&&Object(l.jsx)("div",{children:Object(l.jsx)(R,{})}),e.error&&Object(l.jsx)("div",{className:ie.a.error,children:e.error})]})}var je={};var ue=function(e,t,r){return function(n){n(Q("")),n(H(!0)),M(e,t,r).then((function(e){n(V(e.data))})).catch((function(e){n(Q(e.response?e.response.data.error:e.message))})).finally((function(){n(H(!1))}))}};function le(){var e=Object(m.c)((function(e){return e.app.isBusy})),t=Object(m.c)((function(e){return e.app.isLogined})),r=Object(m.c)((function(e){return e.app.error})),s=Object(m.b)();Object(n.useEffect)((function(){return function(){s(Q(""))}}),[]);var a=Object(n.useState)("dfkcnsldkfj@yandex.ru"),c=Object(b.a)(a,2),i=c[0],j=c[1],u=Object(n.useState)("11111111"),d=Object(b.a)(u,2),O=d[0],f=d[1],x=Object(n.useState)(!1),p=Object(b.a)(x,2),h=p[0],g=p[1];return t?Object(l.jsx)(o.a,{to:"/profile"}):Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(oe,{isBusy:e,email:i,password:O,rememberMe:h,emailChange:function(e){r&&s(Q("")),j(e.currentTarget.value)},passwordChange:function(e){r&&s(Q("")),f(e.currentTarget.value)},rememberMeChange:function(e){r&&s(Q("")),g(e.currentTarget.checked)},loginPress:function(){s(""!==i&&""!==O?ue(i,O,h):Q("Fill email/password fields!"))},loginAsIgnatPress:function(){s(ue("nya-admin@nya.nya","1qazxcvBG",!1))},error:r})})}var de=r(16),be=r.n(de);function Oe(e){return Object(l.jsxs)("div",{className:be.a.main,children:[Object(l.jsx)("h1",{children:"Register"}),Object(l.jsxs)("div",{className:be.a.form,children:[Object(l.jsxs)("div",{className:be.a.item,children:["E-mail",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.email,onChange:e.emailChange,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:be.a.item,children:["Password",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.password,onChange:e.passwordChange,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:be.a.item,children:["Password (repeat)",Object(l.jsx)("br",{}),Object(l.jsx)(B,{value:e.password2,onChange:e.password2Change,disabled:e.isBusy})]}),Object(l.jsxs)("div",{className:be.a.item,children:[Object(l.jsx)("br",{}),Object(l.jsx)(y,{onClick:e.registerPress,disabled:e.isBusy,children:"Register"})]})]}),e.isBusy&&Object(l.jsx)("div",{children:Object(l.jsx)(R,{})}),e.error&&Object(l.jsx)("div",{className:be.a.error,children:e.error})]})}var me={isRegistered:!1};var fe=function(e){return{type:"REGISTER/SET-REGISTER",value:e}};function xe(){var e=Object(m.c)((function(e){return e.app.isBusy})),t=Object(m.c)((function(e){return e.register.isRegistered})),r=Object(m.c)((function(e){return e.app.error})),s=Object(m.b)();Object(n.useEffect)((function(){return function(){s(fe(!1)),s(Q(""))}}),[]);var a=Object(n.useState)("dfkcnsldkfj@yandex.ru"),c=Object(b.a)(a,2),i=c[0],j=c[1],u=Object(n.useState)("11111111"),d=Object(b.a)(u,2),O=d[0],f=d[1],x=Object(n.useState)("11111111"),p=Object(b.a)(x,2),h=p[0],g=p[1];return t?Object(l.jsx)(o.a,{to:"/login"}):Object(l.jsx)(Oe,{isBusy:e,email:i,password:O,password2:h,emailChange:function(e){r&&s(Q("")),j(e.currentTarget.value)},passwordChange:function(e){r&&s(Q("")),f(e.currentTarget.value)},password2Change:function(e){r&&s(Q("")),g(e.currentTarget.value)},registerPress:function(){s(""!==i&&""!==O&&""!==h?O===h?function(e,t){return function(r){r(Q("")),r(H(!0)),U(e,t).then((function(e){r(fe(!0))})).catch((function(e){r(Q(e.response?e.response.data.error:e.message))})).finally((function(){r(H(!1))}))}}(i,O):Q("Passwords do not match!"):Q("Fill all fields!"))},error:r})}var pe="/login",he="/register",ge="/profile",ve="/pwd-restore";function _e(){return Object(l.jsx)("div",{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",exact:!0,render:function(){return Object(l.jsx)(X,{})}}),Object(l.jsx)(o.b,{path:pe,render:function(){return Object(l.jsx)(le,{})}}),Object(l.jsx)(o.b,{path:he,render:function(){return Object(l.jsx)(xe,{})}}),Object(l.jsx)(o.b,{path:ge,render:function(){return Object(l.jsx)(X,{})}}),Object(l.jsx)(o.b,{path:ve,render:function(){return Object(l.jsx)(ae,{})}}),Object(l.jsx)(o.b,{render:function(){return Object(l.jsx)(d,{})}})]})})}var ye=r(43),Ee=r.n(ye);function Ne(e){return Object(l.jsx)(i.b,{className:Ee.a.item,to:e.goTo,style:{padding:"".concat(e.padding||"5px"),margin:"".concat(e.margin||"5px"),border:"".concat(e.border||"1px solid green")},children:e.text})}function Pe(e){var t=e.isLogined,r=e.isRestoring;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{style:{textAlign:"center",color:"red"},children:"FRIDAY"}),!t&&Object(l.jsx)(Ne,{goTo:pe,text:"Login page"}),!t&&Object(l.jsx)(Ne,{goTo:he,text:"Register page"}),t&&Object(l.jsx)(Ne,{goTo:ge,text:"Profile page"}),!r&&Object(l.jsx)(Ne,{goTo:ve,text:"Restore password page",border:"2px solid blue"})]})}function Re(){var e=Object(m.c)((function(e){return e.app.isInitialized})),t=Object(m.c)((function(e){return e.app.isLogined})),r=Object(m.c)((function(e){return e.passwordRestore.isRestoring})),s=Object(m.b)();return Object(n.useEffect)((function(){s((function(e){z().then((function(t){e(V(t.data))})).catch((function(e){})).finally((function(){e({type:"APP/SET-INITIALIZED"})}))}))}),[]),e?Object(l.jsxs)("div",{children:[Object(l.jsx)(Pe,{isLogined:t,isRestoring:r}),Object(l.jsx)(_e,{}),Object(l.jsx)(o.a,{to:t?"/profile":"/login"})]}):Object(l.jsx)("div",{className:"init",children:Object(l.jsx)(R,{})})}var Se=r(27),Ce=r(44),Te={};var we=Object(Se.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;return t.type,e},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return"REGISTER/SET-REGISTER"===t.type?Object(p.a)(Object(p.a)({},e),{},{isRegistered:t.value}):e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return t.type,e},passwordNew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;return t.type,e},passwordRestore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return"PWD-RESTORE/SET-RESTORING"===t.type?Object(p.a)(Object(p.a)({},e),{},{isRestoring:t.value}):e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-INITIALIZED":return Object(p.a)(Object(p.a)({},e),{},{isInitialized:!0});case"APP/SET-BUSY":return Object(p.a)(Object(p.a)({},e),{},{isBusy:t.value});case"APP/SET-ERROR":return Object(p.a)(Object(p.a)({},e),{},{error:t.errorText});case"APP/SET-LOGIN":return Object(p.a)(Object(p.a)({},e),{},{isLogined:t.value});case"APP/SET-USER-DATA":return Object(p.a)(Object(p.a)({},e),{},{isLogined:!0,userData:Object(p.a)({},t.userData)});default:return e}}}),Ie=Object(Se.c)(we,Object(Se.a)(Ce.a)),Be=Ie;window.store=Ie,c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(m.a,{store:Be,children:Object(l.jsx)(i.a,{children:Object(l.jsx)(Re,{})})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.673d7a42.chunk.js.map